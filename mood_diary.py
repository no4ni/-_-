# mood_diary.py - —Ä—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è
import datetime
import os

LOG_FILE = "logs/emotional_log.txt"

def main():
    print("\n" + "="*60)
    print("        –î–ù–ï–í–ù–ò–ö –¢–ï–õ–ê | –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ô –®–¢–ê–ú–ü")
    print("="*60)

    print("\nüìù –û–ü–ò–®–ò –°–û–ë–´–¢–ò–ï (—á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏–ª–∏ —á—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—à—å):")
    event = input("> ")

    print("\nüß© –°–û–ó–î–ê–ô –®–¢–ê–ú–ü –ò–ó 4-–• –ß–ê–°–¢–ï–ô (–≤–≤–µ–¥–∏ –∫–æ–¥—ã —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª)")
    print("   1. –ü–ï–†–í–ê–Ø –†–ï–ê–ö–¶–ò–Ø:")
    print("      –ò–ù–¢ - –ò–Ω—Ç–µ—Ä–µ—Å   –§–†–£ - –†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ  –†–ê–î - –†–∞–¥–æ—Å—Ç—å")
    print("      –®–û–ö - –®–æ–∫       –°–¢–† - –°—Ç—Ä–∞—Ö        –ê–ü–ê–¢ - –ë–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ")
    print("   2. –§–û–ù–û–í–û–ï –ß–£–í–°–¢–í–û:")
    print("      –†–ê–î - –†–∞–¥–æ—Å—Ç—å   –¢–†–ï–í - –¢—Ä–µ–≤–æ–≥–∞     –ê–ü–ê–¢ - –ë–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ")
    print("      –¢–û–°–ö - –¢–æ—Å–∫–∞    –°–ü–û–ö - –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ")
    print("   3. –û–¢–ù–û–®–ï–ù–ò–ï –ö –°–ï–ë–ï:")
    print("      –î–û–°–¢ - –î–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ  –¶–ï–ù - –¶–µ–Ω–Ω–æ—Å—Ç—å —Å–µ–±—è  –£–ù–ò–ó - –£–Ω–∏–∂–µ–Ω–∏–µ")
    print("      –•–û–õ–û–î - –•–æ–ª–æ–¥–Ω–æ—Å—Ç—å  –£–Ø–ó–í - –£—è–∑–≤–∏–º–æ—Å—Ç—å")
    print("   4. –í–ï–ö–¢–û–† (–∫—É–¥–∞ —ç—Ç–æ –≤–µ–¥—ë—Ç):")
    print("      –ù–ê–î - –ù–∞–¥–µ–∂–¥–∞   –¶–ò–ö–õ - –ö—Ä—É–≥        –î–ï–ô–°–¢ - –î–µ–π—Å—Ç–≤–∏–µ")
    print("      –û–¢–°–¢–£–ü - –û—Ç—Ö–æ–¥  –ü–ï–†–ï–ó - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ò–°–°–õ–ï–î - –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ")

    codes = input("\n–í–≤–µ–¥–∏ 4 –∫–æ–¥–∞ (–ü—Ä–∏–º–µ—Ä: –ò–ù–¢ –¢–†–ï–í –î–û–°–¢ –ù–ê–î):\n> ").upper().split()
    
    if len(codes) != 4:
        print("‚ö†Ô∏è  –ù—É–∂–Ω–æ 4 –∫–æ–¥–∞. –ò—Å–ø–æ–ª—å–∑—É—é –ò–ù–¢ –ê–ü–ê–¢ –î–û–°–¢ –¶–ò–ö–õ")
        codes = ["–ò–ù–¢", "–ê–ü–ê–¢", "–î–û–°–¢", "–¶–ò–ö–õ"]

    print("\nüìñ –†–ê–°–®–ò–§–†–£–ô –°–í–û–ò–ú–ò –°–õ–û–í–ê–ú–ò (—á—Ç–æ —Å—Ç–æ–∏—Ç –∑–∞ —ç—Ç–∏–º–∏ –∫–æ–¥–∞–º–∏?):")
    decode = input("> ")

    os.makedirs("logs", exist_ok=True)
    with open(LOG_FILE, "a", encoding="utf-8") as f:
        f.write(f"\n{'='*50}\n")
        f.write(f"–î–∞—Ç–∞: {datetime.datetime.now().strftime('%d.%m.%Y %H:%M')}\n")
        f.write(f"–°–æ–±—ã—Ç–∏–µ: {event}\n")
        f.write(f"–≠–º–æ-—à—Ç–∞–º–ø: {' '.join(codes)}\n")
        f.write(f"–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞: {decode}\n")
        f.write(f"{'-'*30}\n")

    print(f"\n‚úÖ –ì–û–¢–û–í–û! –ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.")
    print(f"üìÅ –§–∞–π–ª: {os.path.abspath(LOG_FILE)}")
    print(f"üß© –¢–≤–æ–π —à—Ç–∞–º–ø: {' '.join(codes)}")

if __name__ == "__main__":
    main()